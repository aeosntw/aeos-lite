<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Authorization Check</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      font-family: 'Inter', sans-serif;
      background: #222;
      color: #eee;
    }

    .page {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #eee;
      transition: transform 1s ease, opacity 1s ease;
      padding: 20px;
      box-sizing: border-box;
    }

    #page1 {
      background: linear-gradient(135deg, #3a1c71, #5b2a86, #4e54c8);
      z-index: 2;
    }

    .logo {
      width: 120px;
      margin-bottom: 30px;
    }

    h1 {
      font-weight: 600;
      font-size: 1.8rem;
      margin: 0;
      text-align: center;
    }

    .dots {
      margin-top: 40px;
      display: flex;
      gap: 18px;
      justify-content: center;
    }

    .dot {
      width: 18px;
      height: 18px;
      background-color: #bbb;
      border-radius: 50%;
      animation: blink 1.4s infinite both;
    }

    .dot:nth-child(1) { animation-delay: 0s; }
    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }

    @keyframes blink {
      0%, 20% { opacity: 0.2; }
      50% { opacity: 1; }
      100% { opacity: 0.2; }
    }

    #page2 {
      background: #000;
      transform: translateY(100%);
      opacity: 0;
      z-index: 1;
      text-align: center;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px 20px 80px;
      box-sizing: border-box;
      min-height: 100%;
      color: #eee;
    }

    #stars, .galaxy {
      position: absolute;
      top: 0; left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    #stars {
      z-index: 0;
    }

    .galaxy {
      background: radial-gradient(ellipse at center, rgba(155,80,210,0.3) 0%, rgba(0,0,0,0.9) 80%);
      z-index: 0;
    }

    .content-wrapper {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-grow: 1;
      width: 100%;
      max-width: 600px;
    }

    .content {
      margin-top: 20px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      align-items: center; 
      width: 100%;
      color: #eee;
    }

    #page2 h2 {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 10px; 
      opacity: 0;
      transition: opacity 1s ease;
      align-self: center;
    }

    #page2 .subtitle { 
        font-size: 1.1rem;
        margin-top: 0;
        margin-bottom: 25px; 
        opacity: 0;
        transition: opacity 1s ease;
        text-align: center;
        max-width: 80%;
    }

    #page2 p {
      font-size: 1.2rem;
      margin: 10px auto;
      opacity: 0;
      transition: opacity 1s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      padding-left: 36px; 
      justify-content: center;  
      text-align: center;
      position: relative;
      width: 100%;
      max-width: 480px;
    }

    .spinner {
      width: 16px;
      height: 16px;
      border: 3px solid #888;
      border-top: 3px solid #eee;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
    }

    @keyframes spin {
      from { transform: translateY(-50%) rotate(0deg); }
      to { transform: translateY(-50%) rotate(360deg); }
    }

    .checkmark {
      width: 16px;
      height: 16px;
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      stroke: #4CAF50;
      stroke-width: 3;
      stroke-linecap: round;
      stroke-linejoin: round;
      fill: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .checkmark.visible {
      opacity: 1;
    }

    .footer {
      font-size: 1rem;
      color: #aaa;
      margin-top: auto;
      opacity: 0;
      transition: opacity 1s ease;
      padding-bottom: 10px;
      align-self: center;
    }
  </style>
</head>
<body>
  <div id="page1" class="page">
    <img class="logo" src="https://iili.io/3WehREl.png" alt="Logo" />
    <h1>Checking your network...</h1>
    <div class="dots">
      <div class="dot"></div>
      <div class="dot"></div>
      <div class="dot"></div>
    </div>
  </div>

  <div id="page2" class="page">
    <div class="galaxy"></div>
    <canvas id="stars"></canvas>

    <div class="content-wrapper">
      <div class="content">
        <h2>AeosProxy successfully detected.</h2>
        <p class="subtitle">(v1.0.0)</p> <p>
          <span class="spinner"></span>
          Injecting Aeos for Ultraviolet...
          <svg class="checkmark" viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </p>

        <p>
          <span class="spinner"></span>
          Injecting modified EasyFun.gg SDK...
          <svg class="checkmark" viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </p>

        <p>
          <span class="spinner"></span>
          Injecting uBlock Lite AdBlocker...
          <svg class="checkmark" viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </p>

        <p>
          <span class="spinner"></span>
          Connecting to WISP...
          <svg class="checkmark" viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </p>

        <p>
          <span class="spinner"></span>
          All done. Redirecting you...
          <svg class="checkmark" viewBox="0 0 24 24">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </p>

      </div>
      <div class="footer">Please log in (or sign up) to EasyFun first before playing (the game will not run otherwise)</div>
    </div>
  </div>

  <script>

    let angle = 0;
    const page1 = document.getElementById('page1');
    function animateGradient() {
      angle = (angle + 0.5) % 360;
      page1.style.background = `linear-gradient(${angle}deg, #3a1c71, #5b2a86, #4e54c8)`;
      requestAnimationFrame(animateGradient);
    }
    animateGradient();

    setTimeout(() => {
      page1.style.transform = 'translateY(-100%)';
      page1.style.opacity = '0';

      const page2 = document.getElementById('page2');
      page2.style.transform = 'translateY(0)';
      page2.style.opacity = '1';

      const header = page2.querySelector('h2');
      const subtitle = page2.querySelector('.subtitle'); 
      const paragraphs = Array.from(page2.querySelectorAll('p:not(.subtitle)')); 
      const footer = page2.querySelector('.footer');

      setTimeout(() => {
        header.style.opacity = '1';
        subtitle.style.opacity = '1'; 
        footer.style.opacity = '1';
      }, 1000);

      paragraphs.forEach((p, i) => {
        setTimeout(() => {

          p.style.opacity = '1';

          if (i > 0) {
            const prev = paragraphs[i - 1];
            const prevSpinner = prev.querySelector('.spinner');
            const prevCheck = prev.querySelector('.checkmark');
            if (prevSpinner && prevCheck) {
              prevSpinner.style.display = 'none';
              prevCheck.classList.add('visible');
            }
          }

          if (i === paragraphs.length - 1) {
            const spinner = p.querySelector('.spinner');
            const check = p.querySelector('.checkmark');
            if (spinner && check) {

              setTimeout(() => {
                spinner.style.display = 'none';
                check.classList.add('visible');
              }, 900);
            }
          }
        }, (i + 2) * 1500); 
      });

      setTimeout(() => {
        window.location.href = "https://www.easyfun.gg/cloud-games/brawl-stars.html"; 
      }, 10500);
    }, 4500);

    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let stars = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    function createStars(count) {
      stars = [];
      for (let i = 0; i < count; i++) {
        stars.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 1.5 + 0.5,
          alpha: Math.random(),
          delta: (Math.random() * 0.02) + 0.005
        });
      }
    }

    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let star of stars) {
        star.alpha += star.delta;
        if (star.alpha <= 0 || star.alpha >= 1) {
          star.delta = -star.delta;
        }
        ctx.globalAlpha = star.alpha;
        ctx.fillStyle = "#ffffff";
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fill();
      }
      ctx.globalAlpha = 1;
      requestAnimationFrame(animateStars);
    }

    createStars(150);
    animateStars();
  </script>
</body>
</html>